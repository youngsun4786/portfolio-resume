---
import ProfileCard from "./ProfileCard.astro";
import Section from "@/components/Section.astro";
import Card from "@/components/Card.astro";
import ProjectCard from "./ProjectCard.astro";
import { Button } from "./ui/button";
---
<!-- OVERLAY -->
<div id="overlay"class="z-40 flex justify-center items-center fixed inset-0 bg-slate-100 dark:bg-neutral-950 bg-opacity-100 hidden pointer-events-auto">
  <!-- MODAL -->
<dialog id="dialog" class="overflow-y-scroll
  [&::-webkit-scrollbar]:w-2
  [&::-webkit-scrollbar]:h-1
  [&::-webkit-scrollbar-track]:bg-gray-100
    [&::-webkit-scrollbar-track]:rounded-full
  [&::-webkit-scrollbar-thumb]:bg-gray-300
    [&::-webkit-scrollbar-thumb]:rounded-full
  dark:[&::-webkit-scrollbar-track]:bg-neutral-700
  dark:[&::-webkit-scrollbar-track]:rounded-full
  dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500
  dark:[&::-webkit-scrollbar-thumb]:rounded-full
 z-50 px-10 py-6 mt-4 max-w-[60rem] h-5/6 rounded-lg shadow-lg
 dark:bg-zinc-900/20
 dark:text-zinc-50
 ">
  <div class="flex w-full flex-col gap-y-10">
    <Section title="Experience">
        <Card
          heading='McGill University'
          subheading='Research Intern'
          date='May 2024 - Aug 2024'
          imagePath='/src/assets/mcgill.jpeg'
          altText='McGill - Research Intern'
          imageClass='h-12 w-auto md:-left-16'
          link="https://www.cs.mcgill.ca/~jvybihal/index.php?Page=Research"
        >
        </Card>
        <Card
        heading='UAEM'
        subheading='Web Developer'
        date='Oct 2023 - Present'
        imagePath='/src/assets/UAEM.jpeg'
        altText='UAEM - Web Developer'
        imageClass='h-12 w-12 md:-left-16'
        link="https://www.uaem.org/"
      >
      </Card>
        <Card
        heading='Flojoy'
        subheading='Software Developer Intern'
        date='May 2023 - Dec 2023'
        imagePath='/src/assets/flojoy.png'
        altText='Flojoy - Software Developer Intern'
        imageClass='h-12 w-auto md:-left-16'
        link='https://www.flojoy.ai'
      >
      </Card>
      <Card
      heading='SDPLEX (acquired)'
      subheading='Software Engineer Intern'
      date='May 2022 - Aug 2022'
      imagePath='/src/assets/SDPlex.png'
      altText='SDPLEX - Software Engineer Intern'
      imageClass='h-12 w-auto md:-left-16'
      link="http://www.sdplex.com/html/01_about.html"
      >
      </Card>
    </Section>
    <Section title="Projects">
			<div class='flex flex-col gap-y-3 sm:flex-row sm:gap-x-3 sm:gap-y-0'>
				<ProjectCard
					href='https://www.google.com'
					heading='Consectetur'
					subheading='Lorem ipsum dolor sit amet consectetur adipisicing elit.'
					imagePath='/src/assets/coming-soon.png'
					altText='Example'
					class='w-full sm:w-1/2'
				/>
				<ProjectCard
					as='div'
					heading='Coming soon...'
					subheading=''
					imagePath='/src/assets/coming-soon.png'
					altText='Lorem, ipsum dolor sit'
					class='w-full sm:w-1/2'
				/>
			</div>
    </Section>
    <div class="flex justify-center items-center">
      <!-- CLOSE BUTTON -->
       <Button id="close-dialog" variant="outline" >close</Button>
    </div>
  </div>
  </dialog>
</div>


  
  <ProfileCard id="open-dialog"/>
  

  <script is:inline>
    const overlay = document.getElementById("overlay");
    const dialog = document.getElementById("dialog");
    const dialogOpen = document.getElementById("open-dialog");
    const dialogClose = document.getElementById("close-dialog");

    dialogOpen.addEventListener("click", openDialog);

    dialogClose.addEventListener("click", closeDialog);

    function openDialog() {
      overlay.classList.remove("hidden");
      dialogOpen.classList.add("pointer-events-none");
      dialog.show();
      dialog.addEventListener("click", closeDialogOnClickOutside);
    }

    function closeDialog() {
      overlay.classList.add("hidden");
      dialogOpen.classList.remove("pointer-events-none");
      dialog.close();
      dialog.removeEventListener("click", closeDialogOnClickOutside);
    }

    function closeDialogOnClickOutside (event) {
      event.target === closeDialog()
    }
  </script>